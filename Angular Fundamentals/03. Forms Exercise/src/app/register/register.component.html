<div class="container">
    <div class="row">
        <div class="col-lg-4"></div>
        <div class="col-lg-4">
            <h1>Registration Form</h1>
            <form #form="ngForm" (ngSubmit)="register()">
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                    </div>
                    <input #fullName="ngModel" name="fullName" class="form-control" placeholder="Full Name" ngModel
                        required appFullNameValid>
                </div>
                <div class="alert alert-danger" *ngIf="fullName.invalid && (fullName.dirty || fullName.touched)">
                    <div *ngIf="fullName.errors.required">
                        fullname field is required
                    </div>
                    <div *ngIf="fullName.errors.fullNameInvalid">
                        have to contains two names which started with Capital letter separated by space
                    </div>
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
                    </div>
                    <input #email="ngModel" name="email" class="form-control" placeholder="Email Address" type="email"
                        ngModel required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
                </div>
                <div class="alert alert-danger" *ngIf="email.invalid && (email.touched || email.dirty)">
                    <div *ngIf="email.errors.required">
                        email field is required
                    </div>
                    <div *ngIf="email.errors.pattern">
                        invalid email
                    </div>
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-phone"></i> </span>
                    </div>
                    <select name="startPhone" [ngModel]="defaultNumberStart" class="custom-select"
                        style="max-width: 120px;">
                        <option [ngValue]="startNumber" *ngFor="let startNumber of startNumbers">{{startNumber}}
                        </option>
                    </select>
                    <input #phone="ngModel" name="phoneNumber" class="form-control" placeholder="Phone number"
                        type="text" ngModel required pattern="^[0-9]{9}$">
                </div>
                <div class="alert alert-danger" *ngIf="phone.invalid && (phone.touched || phone.dirty)">
                    <div *ngIf="phone.errors.required">
                        phone is required
                    </div>
                    <div *ngIf="phone.errors.pattern">
                        phone have to contains 9 digits exactly
                    </div>
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-building"></i> </span>
                    </div>
                    <select name="proffesion" [ngModel]="defaultProffesion" class="form-control">
                        <option *ngFor="let prof of proffesions" [ngValue]="prof">{{prof}}</option>
                    </select>
                </div>
               <div ngModelGroup="passwords">
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                    </div>
                    <input name="pass" class="form-control" placeholder="Create password"
                        type="passwords" required ngModel>
                </div>
                <div class="alert alert-danger" 
                     *ngIf="form.controls?.passwords?.controls?.pass?.errors?.required &&
                     (form.controls?.passwords?.controls?.pass?.touched ||
                     form.controls?.passwords?.controls?.pass?.dirty)">
                    password is required
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                    </div>
                    <input name="confirmPass" class="form-control" placeholder="Repeat password"
                        type="password" required ngModel>
                </div>
                <div class="alert alert-danger" 
                    *ngIf="form.controls?.passwords?.controls?.confirmPass.errors?.required &&
                    (form.controls?.passwords?.controls?.confirmPass?.touched ||
                    form.controls?.passwords?.controls?.confirmPass?.dirty)">
                    confirm password is required
                </div>
               </div>
               <div class="alert alert-danger" 
                    *ngIf="(form.controls?.passwords?.controls?.confirmPass &&
                    (form.controls?.passwords?.controls?.confirmPass?.touched ||
                    form.controls?.passwords?.controls?.confirmPass?.dirty)) &&
                    (form.controls?.passwords?.controls?.pass &&
                     (form.controls?.passwords?.controls?.pass?.touched ||
                     form.controls?.passwords?.controls?.pass?.dirty)) &&
                     form.controls?.passwords?.controls?.confirmPass?.value != 
                     form.controls?.passwords?.controls?.pass?.value">
                    passwords don`t matches.
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-image"></i> </span>
                    </div>
                    <input #img="ngModel" name="img" class="form-control" placeholder="Img" ngModel
                        required appImgValidation>
                </div>
                <div class="alert alert-danger" *ngIf="img.invalid && (img.touched || img.dirty)">
                        <div *ngIf="img.errors.incorrect">
                                invalid img url
                            </div>
                    <div *ngIf="img.errors.required">
                        img is required
                    </div>
                </div>
                <div class="form-group">
                    <button [disabled]="form.invalid" type="submit" class="btn btn-primary btn-block"> Create Account
                    </button>
                </div>
                <p class="text-center">Have an account? <a href="">Log In</a> </p>
            </form>
        </div>
        <div class="col-lg-4"></div>
    </div>
</div>